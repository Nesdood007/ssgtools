#!/usr/bin/python3
# Run this file to generate the Makefile Configuration

CONF_FILE = "../Makefile.conf"
BAK="bak" # Backup Directory

print("Makefile.conf Generation Script")

print("Website Title: ")
title = str(input())
print("Website Base Address: ")
addr = str(input())
print("Source Repository Address: ")
src = str(input())
src_d = src[src.rfind("/") + 1: src.rfind(".git")] # This gets the name of the repo, which will also be the name of the directory
print("Destination Repository Address: ")
dst = str(input())
dst_d = dst[dst.rfind("/") + 1: dst.rfind(".git")] # Same as above

f = open(CONF_FILE, "w")
f.write("# Generated by configure script\n")
f.write("TITLE=\"" + title + "\"\n")
f.write("PREFIX=\"" + addr + "\"\n")
f.write("SRC=\"" + src_d + "\"\n")
f.write("SRC_REPO=\"" + src + "\"\n")
f.write("DST=\"" + dst_d + "\"\n")
f.write("DST_REPO=\"" + dst + "\"\n")
f.close()

# Generate a Gitignore File

f = open(BAK + "/.gitignore", "r")
f1 = open(".gitignore", "w")
f1.write("#WARNING: THIS FILE IS AUTOMATICALLY GENERATED BY configure. DO NOT EDIT.\n")
f1.write(f.read()) # Copy all Existing Contents to gitignore file
f.close()
f1.write("# Git Repos for Source and Destination Directories\n")
f1.write(src_d + "\n")
f1.write(dst_d + "\n")
f1.close()


